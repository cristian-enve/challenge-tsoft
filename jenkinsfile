pipeline{
    agent any

    tools{
        maven 'Maven'
    }
    
    stages{       
        stage('Hello'){
            steps{
                echo 'Hello World!'
            }
        }
        stage('World'){
            steps{
                echo 'World Hello!!!!!'
            }
        }
        stage('Load & Print'){
            steps{
                script{
                    def dummy = readFile (file: 'dummy.txt')
                    println(dummy)
                }
            }
        }
        stage('Upload to Nexus'){
            steps{
                nexusPublisher nexusInstanceId: 'challenge-tsoft',
                nexusRepositoryId: 'challenge-tsoft', 
                packages: [[
                    $class: 'MavenPackage', 
                        mavenAssetList: [
                            [classifier: '', extension: '', filePath: 'challenge-tsoft.jar']
                        ], 
                    mavenCoordinate: [
                        artifactId: 'jenkins-job', 
                        groupId: 'challenge-tsoft', 
                        packaging: 'jar', 
                        version: '1.0'
                    ]
                ]]
            }
        }
    }
}